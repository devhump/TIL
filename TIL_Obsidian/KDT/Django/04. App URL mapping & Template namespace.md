---
title : 
aliases : []
tags : [KDT/Django]
---

### intro
```python
urlpatterns = [
	...,
	path('', views.index),
]
```
- ì´ë•Œ `path('')` â†’ ë£¨íŠ¸í˜ì´ì§€ ì˜ë¯¸ (localhost:8000)

- ë™ì  ì¸ìë¥¼ ì „ë‹¬í•˜ëŠ” ë²•
```django
<a href="/posts/delete/{{ post.id }}">

<a href="{% url 'posts:delete' post.pk %}>
```

#### App URL mapping
- ì•±ì´ ë§ì•„ì¡Œì„ ë•Œ urls.pyë¥¼ ê° appì— ë§¤í•‘í•˜ëŠ” ë°©ë²•ì„ ì´í•´í•˜ê¸°
- ë‘ë²ˆì§¸ appì¸ pagesë¥¼ ìƒì„± ë° ë“±ë¡ í•˜ê³  ì§„í–‰
- appì˜ view í•¨ìˆ˜ê°€ ë§ì•„ì§€ë©´ì„œ ì‚¬ìš©í•˜ëŠ” path() ë˜í•œ ë§ì•„ì§€ê³ , <br>app ë˜í•œ ë” ë§ì´ ì‘ì„±ë˜ê¸° ë•Œë¬¸ì— í”„ë¡œì íŠ¸ì˜ urls.pyì—ì„œ ëª¨ë‘ ê´€ë¦¬í•˜ëŠ” ê²ƒì€<br>í”„ë¡œì íŠ¸ ìœ ì§€ë³´ìˆ˜ì— ì¢‹ì§€ ì•ŠìŒ

- ê° ì•±ì˜ view í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ importí•  ìˆ˜ ìˆìŒ
- ì´ë ‡ê²Œë„ ê°€ëŠ¥í•˜ì§€ë§Œ.. ë” ì¢‹ì€ ë°©ë²•ì„ ìƒê°í•´ë³´ì

```python
# firstpjt/urls.py
# í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì—ì„œ ë‘ê°œ ì´ìƒì˜ viewsë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œ
from articles import views as articles_views
from pages import views as pages_views

urlpatterns = [
	...,
	path('pages-index', pages_views.index),
]
```

```ad-question
- ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ì‘ì„±í–ˆì„ ë•Œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ë¬¸ì œ ì ì€?
	```python
	from practice import views as pracices_views
	from practice import views as articles_views
	
	urlpatterns = [
		path('admin/', admin.site.urls),
		path('index/', practice_views.index),
		path('ping/', practice_views.ping),
		path('pong/', practice_views.pong),
		path('', articles_views.index),	
	]
	```
	- ğŸ‘‰ Aì•±ê³¼ Bì•±ì˜ viewsì—ì„œ ë™ì¼í•œ ì´ë¦„ì˜ í˜ì´ì§€ (index.html) ê°€ í˜¸ì¶œí•  ë•Œ
	
```

```ad-tip
- Django INSTALLED_APPSì˜ ì´í•´
	```python
	INSTALLED_APPS = [
		'practices',
		'articles',
		...
	]
	```
	- `settings.py` â†’ `INSTALLED_APPS` ì„ ì–¸ëœ ìˆœì„œë¡œ ì½ì–´ì¤Œ (ìš°ì„  ìˆœìœ„)<br>â†’ ì„œë²„ë¥¼ ëŒë¦´ ë•Œ, í”„ë¡œì íŠ¸ ë‚´ì— ëª¨ë“  íŒŒì¼ì„ ì½ì–´ì¤Œ<br>â†’ í•˜ë‚˜ì˜ `templates` í´ë”ì—ì„œ ê´€ë¦¬ë„ ê°€ëŠ¥<br>â†’ ë‹¤ë¥¸ í´ë”ì˜ `base.html` ë„ ìƒì†ë„ ê°€ëŠ¥

```
- í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ì˜ ì—¬ëŸ¬ ì•±ì´ ì¡´ì¬í•œë‹¤ë©´, ê°ê°ì˜ ì•± ì•ˆì— urls.pyì„ ë§Œë“¤ê³  <br>í”„ë¡œì íŠ¸ urls.pyì—ì„œ ê° ì•±ì˜ urls.py íŒŒì¼ë¡œ URL ë§¤í•‘ì„ ìœ„íƒí•  ìˆ˜ ìˆìŒ
- ê°ê°ì˜ app í´ë” ì•ˆì— urls.pyë¥¼ ì‘ì„±í•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì • ì§„í–‰

```python
# articles/urls.py

from django.urls import path
from . import views

urlpatterns = [
	path('index/', views.index),
	path('greeting/', views.greeting),
	path('dinner/', views.dinner),
	path('throw/', views.throw),
	path('catch/', views.catch),
	path('hello/<str:name>/', views.hello),
]
```

```python
# pages/urls.py

from django.urls import path

urlpatterns = [

]

```


#### Including other URLconfs
- urlpatternì€ ì–¸ì œë“ ì§€ ë‹¤ë¥¸ URLconf ëª¨ë“ˆì„ í¬í•¨(include)í•  ìˆ˜ ìˆìŒ
- **â– includeë˜ëŠ” ì•±ì˜ url.pyì— urlpatternsê°€ ì‘ì„±ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ ì—ëŸ¬ê°€ ë°œìƒ <br>ì˜ˆë¥¼ ë“¤ì–´, pages ì•±ì˜ urlpatternsê°€ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¼ë„ ì‘ì„±ë˜ì–´ ìˆì–´ì•¼ í•¨**

```python
# firstpjt/urls.py

from django.contrib import admin
from django.urls import path, include

urlpatterns = [
	path('admin/', admin.site.urls),
	path('articles/', include('articles.urls')),
	path('pages/', include('pages.urls')),
]
```

- ì´ì œ ë©”ì¸ í˜ì´ì§€ì˜ ì£¼ì†ŒëŠ” ì´ë ‡ê²Œ ë°”ë€Œì—ˆìŒ
- http://127.0.0.1:8000/index/ 
	â†’ http://127.0.0.1:8000/articles/index/
![](assets/04.%20App%20URL%20mapping.png)

#### include()
- ë‹¤ë¥¸ URLconf(app1/urls.py)ë“¤ì„ ì°¸ì¡°í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” í•¨ìˆ˜
- í•¨ìˆ˜ include()ë¥¼ ë§Œë‚˜ê²Œ ë˜ë©´ URLì˜ ê·¸ ì‹œì ê¹Œì§€ ì¼ì¹˜í•˜ëŠ” ë¶€ë¶„ì„ ì˜ë¼ë‚´ê³ , <br>ë‚¨ì€ ë¬¸ìì—´ ë¶€ë¶„ì„ í›„ì† ì²˜ë¦¬ë¥¼ ìœ„í•´ includeëœ URLconfë¡œ ì „ë‹¬

![](assets/04.%20App%20URL%20mapping-1.png)

#### URL êµ¬ì¡°ì˜ ë³€í™”
- ì•±ì˜ URLì„ projectì˜ urls.pyì—ì„œ ê´€ë¦¬
![](assets/04.%20App%20URL%20mapping-2.png)

- ë³µìˆ˜ ê°œì˜ ì•±ì˜ URLì„ projectì˜ urls.pyì—ì„œ ê´€ë¦¬
![](assets/04.%20App%20URL%20mapping-3.png)

- ê°ê°ì˜ ì•±ì—ì„œ URLì„ ê´€ë¦¬
![](assets/04.%20App%20URL%20mapping-4.png)


### Template namespace
#### 2ê°€ì§€ ë¬¸ì œ ë°œìƒ
1. articles app index í˜ì´ì§€ì— ì‘ì„±í•œ ë‘ë²ˆì§¸ ì•± indexë¡œ ì´ë™í•˜ëŠ” í•˜ì´í¼ ë§í¬ë¥¼ í´ë¦­ ì‹œ í˜„ì¬ í˜ì´ì§€ë¡œ ë‹¤ì‹œ ì´ë™
	- URL namespace
2. pages appì˜ index url (http://127.0.0.1:8000/pages/index/)ë¡œ ì§ì ‘ ì´ë™í•´ë„ articles appì˜ index í˜ì´ì§€ê°€ ì¶œë ¥ë¨
	- Template namespace

#### ê°œìš”
- DjangoëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **app_name/templates/** ê²½ë¡œì— ìˆëŠ” templates íŒŒì¼ë“¤ë§Œ ì°¾ì„ ìˆ˜ ìˆìœ¼ë©°, settings.pyì˜ INSTALLED_APPSì— ì‘ì„±í•œ app ìˆœì„œë¡œ templateì„ ê²€ìƒ‰ í›„ ë Œë”ë§ í•¨
- ë°”ë¡œ ì´ ì†ì„± ê°’ì´ í•´ë‹¹ ê²½ë¡œë¥¼ í™œì„±í™”í•˜ê³  ìˆìŒ

```python
# settings.py

TEMPLATES = [
	{
		...,
		'APP_DIRS': True,
		...
	},
]
```

#### ë””ë ‰í† ë¦¬ ìƒì„±ì„ í†µí•´ ë¬¼ë¦¬ì ì¸ ì´ë¦„ê³µê°„ êµ¬ë¶„
- Django templatesì˜ ê¸°ë³¸ ê²½ë¡œì— appê³¼ ê°™ì€ ì´ë¦„ì˜ í´ë”ë¥¼ ìƒì„±í•´ <br>í´ë” êµ¬ì¡°ë¥¼ **app_name/templates/app_name/** í˜•íƒœë¡œ ë³€ê²½
- Django templatesì˜ ê¸°ë³¸ ê²½ë¡œ ìì²´ë¥¼ ë³€ê²½í•  ìˆ˜ëŠ” ì—†ê¸° ë•Œë¬¸ì— <br>ë¬¼ë¦¬ì ìœ¼ë¡œ ì´ë¦„ ê³µê°„ì„ ë§Œë“œëŠ” ê²ƒ

![](assets/04.%20App%20URL%20mapping-5.png)

#### í…œí”Œë¦¿ ê²½ë¡œ ë³€ê²½
- í´ë” êµ¬ì¡° ë³€ê²½ í›„ ë³€ê²½ëœ ê²½ë¡œë¡œ í•´ë‹¹í•˜ëŠ” ëª¨ë“  ë¶€ë¶„ì„ ìˆ˜ì •í•˜ê¸°

![](assets/04.%20App%20URL%20mapping-6.png)


#### ë°˜ë“œì‹œ Template namespaceë¥¼ ê³ ë ¤í•´ì•¼ í• ê¹Œ?
- ë§Œì•½ ë‹¨ì¼ ì•±ìœ¼ë¡œë§Œ ì´ë£¨ì–´ì§„ í”„ë¡œì íŠ¸ë¼ë©´ ìƒê´€ì—†ìŒ
- ì—¬ëŸ¬ ì•±ì´ ë˜ì—ˆì„ ë•Œì—ë„ í…œí”Œë¦¿ íŒŒì¼ ì´ë¦„ì´ ê²¹ì¹˜ì§€ ì•Šê²Œ í•˜ë©´ ë˜ì§€ë§Œ, <br>ì•±ì´ ë§ì•„ì§€ë©´ ëŒ€ë¶€ë¶„ì€ ê°™ì€ ì´ë¦„ì˜ í…œí”Œë¦¿ íŒŒì¼ì´ ì¡´ì¬í•˜ê¸° ë§ˆë ¨


### ì •ë¦¬ 
- `settings.py` ë‚´ì— ìˆëŠ” TEMPLATE dir ì •ë³´
![](assets/04.%20App%20URL%20mapping%20&%20Template%20namespace.png)

#### TEMPLATES ì„¤ì • ë³€ê²½ (dir ìƒì„±ì„±)
- base template ë“± ê³µí†µì ìœ¼ë¡œ ì“°ì´ëŠ” íŒŒì¼ë“¤ì„<br>â†’ DIRS ë‚´ë¶€ì— ì ˆëŒ€ ê²½ë¡œë¥¼ ì ì–´ì¤Œ
-  BASE_DIR
	- í•´ë‹¹ í”„ë¡œì íŠ¸ ê²½ë¡œ ìì²´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë³€ìˆ˜
 ![](assets/04.%20App%20URL%20mapping%20&%20Template%20namespace-1.png)

![](assets/04.%20App%20URL%20mapping%20&%20Template%20namespace-3.png)

![](assets/04.%20App%20URL%20mapping%20&%20Template%20namespace-5.png)\
- ğŸ‘‰ í”„ë¡œì íŠ¸, ì•± í´ë”ì™€ ë™ì¼í•œ ë ˆë²¨ì—ì„œ template í´ë” ìƒì„±
	- ì´ í´ë”ëŠ” `templates` ì™¸ ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œë„ ì„¤ì • ê°€ëŠ¥
	- ì°¸ê³ : ê²½ë¡œ í•œë²ˆ í™•ì¸ ê°€ëŠ¥
		- ![](assets/04.%20App%20URL%20mapping%20&%20Template%20namespace-4.png)

#### ê° ì•±ë³„ urls.py ì‘ì„±ì„±
- í˜„ì¬ íŒŒì¼ íŠ¸ë¦¬ëŠ” í”„ë¡œì íŠ¸- `[urls.py](<http://urls.py>)` ë¡œ í•˜ë‚˜ì— ë­‰ì³ìˆìŒ
	- ì•±ë³„ í•„ìš”í•œ ë‚´ìš© ë‚˜ëˆ„ëŠ” ê²Œ í”„ë¡œì íŠ¸ ìœ ì§€ë³´ìˆ˜ ì¸¡ë©´ì—ì„œ ë©”ë¦¬íŠ¸
	- ê° ì•±ë³„ `URLs.py` íŒŒì¼ ë¶„ë¦¬

- ë°”ë€Œê¸° ì „
```python
# pjt_name/urls.py
from practice import views as pracices_views
from practice import views as articles_views

urlpatterns = [
	path('admin/', admin.site.urls),
	path('index/', practice_views.index),
	path('ping/', practice_views.ping),
	path('pong/', practice_views.pong),
	path('', articles_views.index),	
]
```

- ë°”ë€ í›„ 
```python
# app_name/uerls.py
from django.urls import path
from . import views


urlpatterns = [
	path('index/', practice_views.index),
	path('ping/', practice_views.ping),
	path('pong/', practice_views.pong),
]
```

- í˜„ì¬ í´ë”(`.`)ì— ìˆëŠ” views import 
	- practices_views â†’ views ë¡œ ë³€ê²½


#### main urls.py ë³€ê²½ ë° ì•±ë³„ urls.py ì—°ê²°
- main `urls.py` ì •ë¦¬ ë° í•˜ìœ„ urls ì—°ê²°<br>â†’ ì´ ìƒíƒœì—ì„œëŠ” main urls(í”Œì )ê³¼ sub urls(ê° ì•±ë“¤)ê°€ ì—°ê²°ì´ ì•ˆ ë˜ì–´ ìˆìŒ

- ë°”ë€Œê¸°ì „ 
```python
# pjt_name/urls.py
from django.contrib import admin
from django.urls import path

urlpatterns = [
	path('admin/', admin.site.urls),
]
```

- ë°”ë€ í›„
	- includeë¡œ ì—°ê²° ì‹œì¼œì¤Œ
```python
# pjt_name/urls.py
from django.contrib import admin
from django.urls import path, include # include ì¶”ê°€

urlpatterns = [
	path('admin/', admin.site.urls),
	path('articles/', include('articles.urls')), # ê° ì•±ì˜ urls ì—°
	path('pasges/', include('pages.urls')),
]
```

```ad-tip
- ê°œë°œ ë„ì¤‘ ëª¨ë¸ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ í•´ê²° ë°©ë²•
	- ![](assets/04.%20App%20URL%20mapping%20&%20Template%20namespace-6.png)
	- ì¶”ê°€í•œ í•„ë“œê°’ì— null=True ê°’ì„ ë„£ì–´ì¤Œ
	- ![](assets/04.%20App%20URL%20mapping%20&%20Template%20namespace-7.png)
	- ìˆ«ìë¡œ ì íŒ 0001_init íŒŒì¼ ì§€ìš°ê³  ë‹¤ì‹œ migrate
```
