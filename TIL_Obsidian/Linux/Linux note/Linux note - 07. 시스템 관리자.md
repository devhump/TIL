---
tags:
  - Linux/Linux_note
---

#### 관련 문서
```dataview
list from #Linux and !#Linux/Linux_note
SORT file.cday DESC
```

##### Linux note
```dataview
list from #Linux/Linux_note
SORT file.name ASC
```


### 시스템 관리자
#### 사용자의 종류
- Linux 서용자는 크게 관리자와 일반 사용자로 나뉜다. 관리자를 **슈퍼 유저**라고 하며, 계정명은 **root**가 된다. 이 외에 새로 사용자를 만들경우 일반 사용자로 등록되며, 관리자와는 구별된다. 
- Linux에서는 관리자 권한을 가진 계정은 root 하나 뿐이다. 

#### 사용자 전환하기
- 보통의 조작은 일반 수행자가 수행할 것을 권장한다. 그러나 갑자기 환경 설정을 바꿀 필요가 있을 때 root로 다시 로그인하려면 번거롭다. 그럴 때는 **su** 명령을 사용한다. 

##### su 명령
- su 명령(Switch User)은 로그인 중에 다른 사용자로 전환하기 위한 명령이다. 사용자를 지정하지 않고 사용하면 root로 로그인 할 수 있다. 
```shell
su - 
# - 옵션이 붙으면 원래 사용자 환경을 물려받지 않는다. (커런트 디렉터리 등)
# - 옵션이 없으면 원래 사용자 환경을 물려받는다.

su sham # 특정 사용자로 로그인할 경우
```
- 👉 루트 사용자로 로그인한 경우 프롬프트에 `#`이 표시된다.


##### sudo 명령 
- sudo 명령을 입력하면 일시적으로 root의 권한으로 명령을 실행할 수 있다. 
- sudo 명령을 실행하려면 wheel 그룹의 구성원이어야 한다. 

#### 시스템 관리
##### systemd
- CentOS에서는 커널이 실행되면 systemd라는 시스템 환경을 설정하는 프로그램이 실행된다. systemd는 각종 서비스의 프로세스를 실행한다. 
	- systemd가 취급하는 서비스의 예
		- 디스플레이 매니저(GNOME, KDE) 등
		- SSH 서비스
		- FTP 서비스
		- HTTP 웹 서비스

###### 유닛에 의한 관리
- systemd는 각 서비스를 유닛이라는 단위로 관리하고 있다. 따라서 프로세스가 도중에 이상 종료한 경우에도 유닛 내에서는 정합성을 유지하도록 되어 있다.

| 유닛 종별의 예 |                                    |
| -------------- | ---------------------------------- |
| service        | 데모의 실행과 정지를 수행하는 유닛 |
| device         | 디바이스의 감지를 수행하는 유닛    |
| target         | 유닛을 그룹화한 것                 |

- 유닛의 유효, 무효는 systemctl 명령으로 관리 한다. 파리미터를 켜지 않고 실행하면 다음과 같이 유닛의 목록을 표시한다. 

##### 동작모드
- systemd는 default.target이라는 target 유닛의 정보를 바탕으로 프로세스를 실행하는데, 이 내용을 전환해서 다른 모드로 실행하는 것이 가능하다. 

| target            | 기능                     |
| ----------------- | ------------------------ |
| poweroff.target   | 시스템 종료(셧다운)      |
| rescue.target     | 유지관리용 모드          |
| multi-user.target | 멀티유저 모드            |
| graphical-target  | GUI를 통한 멀티유저 모드 |
| reboot.target     | 시스템 재시작            |
